<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="pandoc">
<meta http-equiv="X-UA-Compatible" content="IE=EDGE">

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="John Veech">

<meta name="date" content="2019-12-07">

<title>Recolumnize vignette</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




<script type="text/javascript" src="vignette_html_files/MathJax.js"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

<body><div id="MathJax_Message" style="display: none;"></div>




<h1 class="title toc-ignore">Recolumnize vignette</h1>
<h4 class="author">John Veech</h4>
<h4 class="date">2019-12-07</h4>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(recolumnize)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt; Warning: package 'ggplot2' was built under R version 3.6.1</span></a></code></pre></div>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>I will give a quick introduction to using the recolumnize package for
 data wrangling and cleaning. The intended use cases for this package 
occur when dealing with very messy data found “in the wild.” Sometimes, 
one encounters data that has columns that are transposed or in a 
meaningless order. That is, a value found in row 1 column 1 may have no 
connection to the value found in row 2 column 1.</p>
<p>Often this occurs due to data entry errors, data not intended to be 
stored in table format, or from user/survey data that has not been 
properly validated (e.g., a user puts their ZIP code in the state field 
and their state in their address 2 field, etc.)</p>
</div>
<div id="example" class="section level1">
<h1>Example</h1>
<p>In this example, we will use data collected from high level League of
 Legends games. League of Legends ia a competitive video game that 
consists of two teams of 5 players each. Each player selects a character
 (called a “champion”) from a roster of 146 different characters.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">data</span>(<span class="st">"games_small"</span>)</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">head</span>(games_small,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">#&gt;      match_id blue_win team          c1          c2         c3       c4</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt; 1  3029804371     TRUE blue    renekton    nocturne     thresh    corki</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt; 2  3029804371     TRUE  red    jarvaniv     caitlyn    morgana     ekko</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt; 3  3046779313    FALSE blue        sona      ezreal      nasus masteryi</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt; 4  3046779313    FALSE  red       kaisa       sylas cassiopeia    teemo</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt; 5  3046814532     TRUE blue       teemo     caitlyn      braum    yasuo</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt; 6  3046814532     TRUE  red twistedfate     kalista   malzahar   rengar</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt; 7  3046864276     TRUE blue       yuumi       sivir    sejuani   rumble</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt; 8  3046864276     TRUE  red     leblanc       vayne    karthus pantheon</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">#&gt; 9  3052841499     TRUE blue       akali        olaf      sivir    yuumi</span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="co">#&gt; 10 3052841499     TRUE  red       teemo twistedfate     ezreal   leesin</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">#&gt;          c5</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="co">#&gt; 1     varus</span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co">#&gt; 2   camille</span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">#&gt; 3     taric</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="co">#&gt; 4    khazix</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="co">#&gt; 5    reksai</span></a>
<a class="sourceLine" id="cb3-19" title="19"><span class="co">#&gt; 6    thresh</span></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="co">#&gt; 7     teemo</span></a>
<a class="sourceLine" id="cb3-21" title="21"><span class="co">#&gt; 8     riven</span></a>
<a class="sourceLine" id="cb3-22" title="22"><span class="co">#&gt; 9  vladimir</span></a>
<a class="sourceLine" id="cb3-23" title="23"><span class="co">#&gt; 10     pyke</span></a></code></pre></div>
<p>We see that values can appear in any column (for example, “teemo” 
appears in 3 different columns in just the first 10 rows!). In fact, the
 order is determined solely by the order in which they were selected, 
which is not very meaningful for most analysis purposes. Our first step 
will be to try one-hot-encoding the data using 
recolumnize::one_hot_encode.</p>
<div id="one_hot_encode" class="section level2">
<h2>one_hot_encode()</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">one_hot_encoded &lt;-<span class="st"> </span><span class="kw">one_hot_encode</span>(games_small, <span class="dt">encode_cols =</span> <span class="kw">c</span>(<span class="dv">4</span><span class="op">:</span><span class="dv">8</span>), <span class="dt">keep =</span> <span class="st">"exists"</span>, <span class="dt">min_occurences =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">head</span>(one_hot_encoded,<span class="dv">10</span>)[,<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>]</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">#&gt;      match_id blue_win team renekton jarvaniv sona kaisa teemo twistedfate</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#&gt; 1  3029804371     TRUE blue        1        0    0     0     0           0</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt; 2  3029804371     TRUE  red        0        1    0     0     0           0</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt; 3  3046779313    FALSE blue        0        0    1     0     0           0</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt; 4  3046779313    FALSE  red        0        0    0     1     1           0</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">#&gt; 5  3046814532     TRUE blue        0        0    0     0     1           0</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt; 6  3046814532     TRUE  red        0        0    0     0     0           1</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="co">#&gt; 7  3046864276     TRUE blue        0        0    0     0     1           0</span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co">#&gt; 8  3046864276     TRUE  red        0        0    0     0     0           0</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="co">#&gt; 9  3052841499     TRUE blue        0        0    0     0     0           0</span></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="co">#&gt; 10 3052841499     TRUE  red        0        0    0     0     1           1</span></a></code></pre></div>
<p>The one_hot_encode function creates a new column for each value that 
exists in the columns to be encoded. It then populates each row with a 1
 if that value appears anywhere in the row and a 0 otherwise (note if we
 set keep = “sum”, we could also store the number of times the value 
appears in each row)</p>
<p>In this case, the usual implementation of one hot encoding (for 
example in the library vtreat) would not work well for this data (each 
value would get encoded 5 separate times if it appears in all 5 of the 
original columns).</p>
<p>So this data encoding requires substantially fewer variables. It also
 allows more easy generalization (if something holds for a character in 
one). Can we do better? For modelling/prediction purposes, we are 
probably best served using one-hot-encoding (many algorithms require it –
 plus, the reduced dimensionality is quite valuable). However, for data 
exploration, we may want to instead create some sort of meaningful 
ordering.</p>
<p>Generally, the 5 champions on each team have 5 separate roles 
(similar to positions you might see in sports): top, jungle, middle, 
bottom, and support.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">data</span>(<span class="st">"champion_dictionary"</span>)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">rownames</span>(dict) &lt;-<span class="st"> </span>dict[,<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb5-3" title="3">dict &lt;-<span class="st"> </span>dict[<span class="op">-</span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb5-4" title="4"><span class="kw">head</span>(dict,<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt;                     top      jungle         mid         bot         sup</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt; aatrox      0.733230532 0.082498072 0.178103315 0.003084040 0.003084040</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">#&gt; ahri        0.008534851 0.008534851 0.965860597 0.008534851 0.008534851</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">#&gt; akali       0.528396184 0.000908678 0.468877783 0.000908678 0.000908678</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">#&gt; alistar     0.001474926 0.001474926 0.001474926 0.001474926 0.994100295</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="co">#&gt; amumu       0.014018692 0.943925234 0.014018692 0.014018692 0.014018692</span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="co">#&gt; anivia      0.043378995 0.043378995 0.826484018 0.043378995 0.043378995</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="co">#&gt; annie       0.107421875 0.107421875 0.570312500 0.107421875 0.107421875</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="co">#&gt; ashe        0.010979122 0.010979122 0.010979122 0.956083513 0.010979122</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="co">#&gt; aurelionsol 0.013888889 0.013888889 0.944444444 0.013888889 0.013888889</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="co">#&gt; azir        0.015845070 0.015845070 0.936619718 0.015845070 0.015845070</span></a></code></pre></div>
<p>We need a dataframe with row names consisting of the values we want 
to match and with columns representing the probability they fall into 
each category. Every value should have a probability for each category, 
so this method is not very well suited to datasets without a lot of 
structure (in such a case, using the recategorize function will probably
 be more fruitful)</p>
</div>
<div id="best_categories_brute_force" class="section level2">
<h2>best_categories_brute_force()</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">categorized &lt;-<span class="st"> </span><span class="kw">best_categories_brute_force</span>(games_small, dict, <span class="dt">encode_cols =</span> <span class="kw">c</span>(<span class="dv">4</span><span class="op">:</span><span class="dv">8</span>),<span class="dt">ignore_warning =</span> T)</a></code></pre></div>
<p>Note that calling best_categories_brute_force() will be very slow on 
large datasets, as it is O(n*k!) due to calculating probabilities for 
every permutation of columns. However, it can be useful to run it on a 
subset of your data and to compare it to the approximated version as we 
will do below.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">head</span>(categorized)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="co">#&gt;     match_id blue_win team      top   jungle         mid     bot     sup</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#&gt; 1 3029804371     TRUE blue renekton nocturne       corki   varus  thresh</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">#&gt; 2 3029804371     TRUE  red  camille jarvaniv        ekko caitlyn morgana</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">#&gt; 3 3046779313    FALSE blue    nasus masteryi       taric  ezreal    sona</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">#&gt; 4 3046779313    FALSE  red    teemo   khazix  cassiopeia   kaisa   sylas</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">#&gt; 5 3046814532     TRUE blue    teemo   reksai       yasuo caitlyn   braum</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="co">#&gt; 6 3046814532     TRUE  red   rengar malzahar twistedfate kalista  thresh</span></a></code></pre></div>
<p>Now instead of seeing “teemo” in 3 different columns, he mostly only 
appears in the column for “top.” Likewise, we can already see other 
examples of values reoccuring. This allows us to do better analysis. For
 one, we can now compare a player to his counterpart on the other team. 
It also lets us capture the interaction between champion and role, 
rather than just the existence of the champion.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">bars &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">sum</span>(<span class="kw">apply</span>(games_small[,<span class="dv">4</span><span class="op">:</span><span class="dv">8</span>], <span class="dv">2</span>, <span class="cf">function</span>(x) <span class="kw">length</span>(<span class="kw">unique</span>(x)))) ,<span class="kw">sum</span>(<span class="kw">apply</span>(categorized[,<span class="dv">4</span><span class="op">:</span><span class="dv">8</span>],<span class="dv">2</span>,<span class="cf">function</span>(x) <span class="kw">length</span>(<span class="kw">unique</span>(x)))),<span class="kw">sum</span>(<span class="kw">apply</span>(one_hot_encoded[,<span class="dv">4</span><span class="op">:</span><span class="dv">148</span>],<span class="dv">2</span>,<span class="cf">function</span>(x) <span class="kw">length</span>(<span class="kw">unique</span>(x)))))</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">ggplot</span>(<span class="dt">data=</span> <span class="ot">NULL</span>, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="st">"original data"</span>, <span class="st">"categorized"</span>,<span class="st">"one-hot-encoded"</span>), <span class="dt">y =</span> bars,<span class="dt">fill =</span> <span class="kw">c</span>(<span class="st">"#2b8cbe"</span>,<span class="st">"#e34a33"</span>, <span class="st">"#fdbb84"</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">"identity"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"none"</span>) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">"Total cardinality of variables needed"</span>, <span class="dt">x =</span> <span class="st">""</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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JgCqeeOqUeJFzGuFmACo5o2rRokXMa8VYgKgmjeuGiVexLxWiAmAat64apR4EfNaISYAqnnjqlHiRcxrhZgAqOaNq0aJFzGvFWICoJo3rholXsS8VogJgGreuGqUeBHzWiEmAKp546pR4kXMa4WYAKjmjatGiRcxrxViAqCaN64aJV7EvFaICYBq3rhqlHgR81ohJgCqeeOqUeJFzGuFmACo5o2rRokXMa8VYgKgmjeuGiVexLxWiAmAat64apR4EfNaISYAqnnjqlHiRcxrhZgAqOaNq0aJFzGvFWICoJo3rholXsS8VogJgGreuGqUeBHzWiEmAKp546pR4kXMa4WYAKjmjatGiRcxrxViAqCaN64aJV7EvFaICYBq3rhqlHgR81ohJgCqeeOqUeJFzGuFmACo5o2rRokXMa8VYgKgmjeuGiVexLxWiAmAat64apR4EfNaISYAqnnjqlHiRcxrhZgAqOaNq0aJFzGvFWICoJo3rholXsS8VogJgGreuGqUeBHzWiEmAKp546pR4kXMa4WYAKjmjatGiRcxrxViAqCaN64aJV7EvFaICYBq3rhqlHgR81ohJgCqeeOqUeJFzGuFmACo5o2rRokXMa8VYgKgmjeuGiVexLxWiAmAat64apR4EfNaISYAqnnjqlHiRcxrhZgAqOaNq0aJFzGvFWICoJo3rholXsS8VogJgGreuGqUeBHzWiEmAKp546pR4kXMa4WYAKjmjatGiRcxrxViAqCaN64aJV7EvFaICYBq3rhqlHgR81ohJgCqeeOqUeJFzGuFmACo5o2rRokXMa8VYgKgmjeuGiVexLxWiAmAat64apR4EfNaISYAqnnjqlHiRcxrhZgAqOaNq0aJFzGvFWICoJo3rholXsS8VogJgGreuGqUeBHzWiEmAKp546pR4kXMa4WYAKjmjatGiRcxrxViAqCaN64aJV7EvFaICYBq3rhqlHgR81ohJgCqeeOqUeJFzGuFmACo5o2rRokXMa8VYgKgmjeuGiVexLxWiAmAat64apR4EfNaISYAqnnjqlHiRcxrhZgAqOaNq0aJFzGvFWICoJo3rholXsS8VogJgGreuGqUeBHzWiEmAKp546pR4kXMa4WYAKjmjatGiRcxrxViAqCaN64aJV7EvFaICYBq3rhqlHgR81ohJgCqeeOqUeJFzGuFmACo5o2r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"><!-- --></p>
<p>We still have somewhat reduced the number of predictors needed from 
the original dataset, although not as much as if we one-hot-encoded.</p>
</div>
<div id="best_categories_approximate" class="section level2">
<h2>best_categories_approximate()</h2>
<p>Now, let’s use the faster best_categories_approximate() function. 
This function works by checking each category, finding the maximum 
percentage difference between the most and 2nd most likely value, then 
proceeding on the problem with one fewer category and one fewer value. 
This is substantially faster than checking every possible combination.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">categorized_fast &lt;-<span class="st"> </span><span class="kw">best_categories_approximate</span>(games_small, dict, <span class="dt">encode_cols =</span> <span class="kw">c</span>(<span class="dv">4</span><span class="op">:</span><span class="dv">8</span>))</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">head</span>(categorized_fast)</a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co">#&gt;     match_id blue_win team      top   jungle         mid     bot     sup</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="co">#&gt; 1 3029804371     TRUE blue renekton nocturne       corki   varus  thresh</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="co">#&gt; 2 3029804371     TRUE  red  camille jarvaniv        ekko caitlyn morgana</span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="co">#&gt; 3 3046779313    FALSE blue    nasus masteryi       taric  ezreal    sona</span></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="co">#&gt; 4 3046779313    FALSE  red    teemo   khazix  cassiopeia   kaisa   sylas</span></a>
<a class="sourceLine" id="cb9-8" title="8"><span class="co">#&gt; 5 3046814532     TRUE blue    teemo   reksai       yasuo caitlyn   braum</span></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="co">#&gt; 6 3046814532     TRUE  red   rengar malzahar twistedfate kalista  thresh</span></a></code></pre></div>
<p>At first glance, it looks quite similar to the brute force output from above. But we may want to check how often the two differ.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">get_probability_by_row &lt;-<span class="st"> </span><span class="cf">function</span>(row, probs) {</a>
<a class="sourceLine" id="cb10-2" title="2">  likelihood &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb10-3" title="3">  <span class="cf">for</span> (i <span class="cf">in</span> (<span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(row))) {</a>
<a class="sourceLine" id="cb10-4" title="4">    likelihood &lt;-<span class="st"> </span>likelihood<span class="op">*</span>probs[row[i],i]</a>
<a class="sourceLine" id="cb10-5" title="5">  }</a>
<a class="sourceLine" id="cb10-6" title="6">  <span class="kw">return</span>(likelihood)</a>
<a class="sourceLine" id="cb10-7" title="7">}</a>
<a class="sourceLine" id="cb10-8" title="8"></a>
<a class="sourceLine" id="cb10-9" title="9">probs_bf &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">apply</span>(categorized[,<span class="dv">4</span><span class="op">:</span><span class="dv">8</span>], <span class="dv">1</span>, get_probability_by_row, dict))</a>
<a class="sourceLine" id="cb10-10" title="10">probs_approx &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">apply</span>(categorized_fast[ ,<span class="dv">4</span><span class="op">:</span><span class="dv">8</span>], <span class="dv">1</span>, get_probability_by_row, dict))</a>
<a class="sourceLine" id="cb10-11" title="11">diffs &lt;-<span class="st"> </span>probs_bf <span class="op">-</span><span class="st"> </span>probs_approx</a></code></pre></div>
<p>Now we can check the mean difference in probabilities of the two 
methods which is 1.80485210^{-5}. We may also want to check when there 
is a difference in opinion which happens 47 times and has a mean 
0.0019201. So when the two methods disagree (at least in this dataset), 
the two answers are usually close to equally likely.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">get_individual_probabilities &lt;-<span class="st"> </span><span class="cf">function</span>(row, probs) {</a>
<a class="sourceLine" id="cb11-2" title="2">  prob_vec &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NA</span>, <span class="kw">length</span>(row))</a>
<a class="sourceLine" id="cb11-3" title="3">  <span class="cf">for</span> (i <span class="cf">in</span> (<span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(row))) {</a>
<a class="sourceLine" id="cb11-4" title="4">    prob_vec[i] &lt;-<span class="st"> </span>probs[row[i],i]</a>
<a class="sourceLine" id="cb11-5" title="5">  }</a>
<a class="sourceLine" id="cb11-6" title="6">  <span class="kw">return</span>(prob_vec)</a>
<a class="sourceLine" id="cb11-7" title="7">}</a>
<a class="sourceLine" id="cb11-8" title="8"></a>
<a class="sourceLine" id="cb11-9" title="9">categorized &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(categorized)</a>
<a class="sourceLine" id="cb11-10" title="10">ind_probs &lt;-<span class="st"> </span><span class="kw">as.vector</span>(<span class="kw">apply</span>(categorized[,<span class="dv">4</span><span class="op">:</span><span class="dv">8</span>], <span class="dv">1</span>, get_individual_probabilities, dict))</a>
<a class="sourceLine" id="cb11-11" title="11">ind_probs_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">probs =</span> ind_probs, <span class="dt">role =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">"top"</span>,<span class="dv">5000</span>),<span class="kw">rep</span>(<span class="st">"jungle"</span>,<span class="dv">5000</span>), <span class="kw">rep</span>(<span class="st">"mid"</span>,<span class="dv">5000</span>), <span class="kw">rep</span>(<span class="st">"bot"</span>,<span class="dv">5000</span>), <span class="kw">rep</span>(<span class="st">"support"</span>,<span class="dv">5000</span>)))</a>
<a class="sourceLine" id="cb11-12" title="12"></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="kw">ggplot</span>(ind_probs_df, <span class="kw">aes</span>(probs, <span class="dt">fill =</span> role)) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="st">  </span><span class="kw">geom_density</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>role) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"none"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Individual probability of placing an item correctly"</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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"><!-- --></p>
<p>We can see that overall we seem to be putting most values into the 
most likely category (and there doesn’t appear to be much of a 
difference based on which category).</p>
<p>At this point, we could proceed with modelling or more data exploration with fairly strong confidence in our encoding method.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>



</body></html>